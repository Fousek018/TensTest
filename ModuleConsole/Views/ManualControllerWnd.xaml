<Window
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:Base="clr-namespace:MyControls.Base;assembly=MyControls" 
			xmlns:mouse="clr-namespace:BaseUtils.CommandBehaviors;assembly=BaseUtils"
			 xmlns:Tx="clr-namespace:Vbloky.Translation;assembly=AppTranslation"
			xmlns:MyControls="clr-namespace:MyControls.UserControls;assembly=MyControls"
			x:Class="ModuleConsole.Views.ManualControllerWnd"
             mc:Ignorable="d" 
	
		SizeToContent="WidthAndHeight"
    	MinWidth="218" MinHeight="346" 
		Topmost="True"

	
		xmlns:vm="clr-namespace:ModuleConsole.ViewModels"
		d:DataContext="{d:DesignInstance Type=vm:ManualControllerVM}"

          xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
          Style="{DynamicResource MetroWindowStyle}"
          Background="{DynamicResource MaterialDesignPaper}"
		  TextElement.Foreground="{DynamicResource MaterialDesignBody}"
                >
	<!-- toto nefungovalo -->
	<!--xmlns:load="clr-namespace:BaseUtils.CommandBehaviors;assembly=BaseUtils"
		load:LoadedUnloadedBehavior.LoadedCommand="{Binding LoadedCommand}"
		load:LoadedUnloadedBehavior.UnloadedCommand="{Binding UnloadedCommand}"-->


	<Border Style="{StaticResource AccentBorder}">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition />
				<RowDefinition />
				<RowDefinition />
				<RowDefinition />
				<RowDefinition />
				<RowDefinition />
				<RowDefinition />
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>

			<!-- Sloupec s ovladacimi tlacitky ============================================ -->
			<Border Style="{StaticResource DefaultBorder}" HorizontalAlignment="Left">
				<StackPanel>
					<Base:Led IsChecked="{Binding IsOn,Mode=OneWay}" Content="" Margin="0" HorizontalAlignment="Center"/>
					<TextBlock Text="{Tx:T Zap}" Style="{StaticResource TextBlockAsHint}" Margin="0" HorizontalAlignment="Center"/>
				</StackPanel>
			</Border>

			<Base:IconButton Grid.Row="1" Icon="TransferUp"	HorizontalAlignment="Left"
							 mouse:MouseUpDown.DownCommand="{Binding FastUpCommand}" 
							 mouse:MouseUpDown.UpCommand="{Binding StopCommand}"/>

			<Base:IconButton Grid.Row="2" Icon="ArrowUpBold" HorizontalAlignment="Left"
							 mouse:MouseUpDown.DownCommand="{Binding UpCommand}"
							 mouse:MouseUpDown.UpCommand="{Binding StopCommand}"/>

			<Base:IconButton Grid.Row="3" Icon="Stop" Command="{Binding StopCommand}" HorizontalAlignment="Left" IconForeground="Red"/>

			<Base:IconButton Grid.Row="4" Icon="ArrowDownBold" HorizontalAlignment="Left"
							 mouse:MouseUpDown.DownCommand="{Binding DownCommand}"
							 mouse:MouseUpDown.UpCommand="{Binding StopCommand}"/>

			<Base:IconButton Grid.Row="5" Icon="TransferDown" HorizontalAlignment="Left"
							 mouse:MouseUpDown.DownCommand="{Binding FastDownCommand}"
							 mouse:MouseUpDown.UpCommand="{Binding StopCommand}"/>


			<Button x:Name="bOn" Command="{Binding TurnOnCommand}" Content="{Tx:T Zapnout}" Grid.Column="2" Grid.Row="6"/>

			<!-- tlačítka Na kameru, na vtisk, uložit pozici -->
			<StackPanel Grid.Column="2" Grid.Row="2" Grid.RowSpan="4">
				<Base:IconButton Caption="{Tx:T Na kameru}" Command="{Binding CommToCameraCommand}" Icon="VideoVintage" IconDock="Top" Height="46"/>
				<Base:IconButton Caption="{Tx:T Na vtisk}"  Command="{Binding CommToIndentCommand}" Icon="DownloadMultipleOutline" IconDock="Top" Height="46"/>
				<Base:IconButton Caption="{Tx:T Uložit pozici}" Command="{Binding SaveFocusPositionCommand}" Icon="ContentSave" IconDock="Top" Height="46" ToolTip="{Tx:T Uloží aktuální polohu pro ostření kamery}"/>
			</StackPanel>

			<!-- Sloupec s hodnotami rychlostí =========================================== -->
			<Base:IconButton Command="{Binding TareLoadCommand}" Style="{StaticResource IconButton_Tare}" Grid.Column="1"  ToolTip="{Tx:T Nulovat sílu}" HorizontalAlignment="Right"/>
			<TextBox Text="{Binding FastUpSpeed, UpdateSourceTrigger=PropertyChanged}"		Grid.Column="1" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
			<TextBox Text="{Binding UpSpeed, UpdateSourceTrigger=PropertyChanged}"			Grid.Column="1" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
			<TextBox Text="{Binding DownSpeed, UpdateSourceTrigger=PropertyChanged}"		Grid.Column="1" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
			<TextBox Text="{Binding FastDownSpeed, UpdateSourceTrigger=PropertyChanged}"	Grid.Column="1" Grid.Row="5" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
			<Button Content="{Tx:T Vypnout}" Command="{Binding TurnOffCommand}" Width="{Binding ActualWidth, ElementName=bOn}" HorizontalAlignment="Left" Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2"/>

			<!-- Zobrazení sily ======================================================= -->
			<Border Grid.Column="2" BorderThickness="1" BorderBrush="DarkGray" Margin="2,1">
				<StackPanel Grid.Column="2" Background="Black" Margin="1">
					<TextBlock Text="{Tx:TUnit Síla,Unit=N}" HorizontalAlignment="Center" Foreground="Lime"/>
					<Border BorderThickness="0.3" BorderBrush="DarkGray" Margin="0,2"/>
					<TextBlock Text="{Binding Load, Mode=OneWay, StringFormat=\{0:0.000\}}" HorizontalAlignment="Center" Foreground="Lime" />
				</StackPanel>
			</Border>

			<!-- Zobrazení pozice ======================================================= -->
			<Border Grid.Column="2" Grid.Row="1" BorderThickness="1"  BorderBrush="DarkGray" Margin="2,1">
				<StackPanel Grid.Column="2" Grid.Row="1" Background="Black" Margin="1">
					<TextBlock Text="{Tx:TUnit Dráha,Unit=mm}" HorizontalAlignment="Center" Foreground="Lime"/>
					<Border BorderThickness="0.3" BorderBrush="DarkGray" Margin="0,2"/>
					<TextBlock Text="{Binding Position, Mode=OneWay, StringFormat=\{0:0.000\}}" HorizontalAlignment="Center" Foreground="Lime" />
				</StackPanel>
			</Border>

		</Grid>
	</Border>
</Window>
